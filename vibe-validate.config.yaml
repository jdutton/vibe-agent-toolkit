# vibe-validate configuration
# Documentation: https://github.com/jdutton/vibe-validate

# CI matrix configuration
ci:
  nodeVersions: ['22', '24']
  os: ['ubuntu-latest', 'windows-latest']
  failFast: false

# Hooks configuration
hooks:
  preCommit:
    secretScanning:
      enabled: true

validation:
  phases:
    - name: 'Fast Checks & Build'
      parallel: false
      steps:
        - name: 'Build packages'
          command: 'bun run build'

        - name: 'TypeScript type checking'
          command: 'bun run typecheck'

        - name: 'ESLint'
          command: 'bun run lint'

        - name: 'Code duplication check'
          command: 'bun run duplication-check'

        - name: 'Documentation validation'
          command: 'bun run vat resources validate'
          description: 'Validates markdown link integrity across entire project'

        - name: 'Unit tests with coverage'
          command: 'bun run test:coverage'

    - name: 'Integration Tests'
      parallel: false
      steps:
        - name: 'Integration tests'
          command: 'bun run test:integration'

    - name: 'System Tests'
      parallel: false
      steps:
        - name: 'End-to-end system tests'
          command: 'bun run test:system'
          description: 'Runs complete end-to-end workflows testing the entire system'
